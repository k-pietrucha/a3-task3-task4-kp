---
title: 'Assignment 3: Santa Barbara Urchins'
author: "Katie Pietrucha"
date: "10/28/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warnings = FALSE, message = FALSE)

library(tidyverse)
library(here)
library(janitor)
library(kableExtra)
library(knitr)
```
# Overview

In this task, you will use version control, project management, and data wrangling, analysis & visualization skills to explore red and purple urchins recorded by Santa Barbara Coastal Long Term Ecological Research program divers, while practicing version control and project management.

**Data:** Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b. 

# Read in the data and convert column names to lower snake case using `clean_names`.

```{r}
urchins_data <- read_csv(here("data", "urchins.csv")) %>%
  clean_names
```

# Section 1: Size comparisons, purple and red urchins

## Data visualization 

Compare the distribution of sizes between purple and red urchins with a finalized, faceted histogram. 

```{r}
ggplot(data = urchins_data, aes(x = size, fill = common_name)) +
  scale_fill_manual(values = c("purple3", "red3")) +
  geom_histogram(bins = 10) +
  facet_wrap(~ common_name) +
  theme_bw() +
  labs(x = "Size (cm)", y = "Number of urchins") +
  ggtitle("Distribution of urchin sizes by species") +
  theme(plot.title = element_text(hjust = 0.5)) +
  theme(legend.position = "none")
```

## Descriptive Statistis Table

Create a finalized summary table that contains the following statistics for purple and red urchins (still ignoring site as a variable, but including species as a grouping variable): mean, median, standard deviation, and sample size.

```{r}
urchins_data %>%
  group_by(common_name) %>%
  summarize("Mean" = round(mean(size), 1),
            "Median" = round(median(size),1),
            "Standard Deviation" = round(sd(size), 1),
            "Sample Size" = n()) %>%
  kbl(caption = "<center>Summary statistics for purple and red urchin sizes</center>", col.names = c("Species", "Mean (cm)", "Median (cm)", "Standard Deviation (cm)", "Sample Size")) %>%
  kable_paper(full_width = FALSE) %>%
  column_spec(2:5, width = "4cm")
```

## Analysis

